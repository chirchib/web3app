### План разработки бэкенда проекта SciFiKPI на 6 этапов (6 месяцев)

---

#### **Этап 1: Базовая инфраструктура и регистрация пользователей (Месяц 1)**

**Цель:** Создание основного функционала для регистрации и авторизации пользователей, а также базового управления данными.  
**Результат:** Система регистрации, авторизации и хранения данных готова для тестирования.

1. Настройка среды разработки:
    
    - Создание структуры проекта (Rest API на Go).
    - Настройка Docker для разработки и контейнеризации.
    - Развертывание базы данных PostgreSQL с базовыми таблицами (пользователи, платежи).
2. Реализация функционала:
    
    - Регистрация пользователей (физических и юридических лиц).
    - Авторизация с использованием JWT.
    - Логика оплаты (интеграция с Stripe и YooMoney для тестового режима).
    - Валидация минимальной суммы при регистрации (≥10$).
3. Тестирование и деплой:
    
    - Юнит-тесты для эндпоинтов регистрации и авторизации.
    - Настройка CI/CD для автоматической сборки и деплоя.

---

#### **Этап 2: Майнинг и управление баллами (Месяц 2)**

**Цель:** Реализация системы начисления баллов и логики майнинга.  
**Результат:** Рабочая система майнинга баллов с возможностью ускорения через оплату.

1. Разработка механики майнинга:
    
    - Эндпоинты для запуска и отслеживания статуса майнинга (`/mining/start`, `/mining/status`).
    - Таймер обратного отсчета для начисления баллов.
    - Расчет конечной суммы баллов и времени ускорения (формулы).
2. Логика ускорения:
    
    - Интеграция с платежными шлюзами для сокращения времени майнинга.
    - Обновление алгоритма начисления баллов на основе оплаты.
3. Реализация базы данных:
    
    - Хранение истории начисления и списания баллов.
4. Тестирование и интеграция:
    
    - Юнит-тесты механики майнинга.
    - E2E-тесты взаимодействия с фронтендом (Angular).

---

#### **Этап 3: Личный кабинет и управление балансом (Месяц 3)**

**Цель:** Обеспечить пользователям доступ к информации о балансе, платежах и возможностям управления аккаунтом.  
**Результат:** Полностью функционирующий личный кабинет.

1. Разработка функционала личного кабинета:
    
    - Эндпоинты для получения и пополнения баланса.
    - Логика прогнозирования роста и расчетов баллов.
    - История операций пользователя (майнинг, платежи).
2. Интеграция покупок NFT:
    
    - Список доступных NFT.
    - Покупка NFT через баллы (с резервированием средств).
3. Мониторинг и логирование:
    
    - Реализация централизованного сбора логов (Loki).
    - Настройка алертов на ошибки.

---

#### **Этап 4: Интеграция с блокчейном TON и выпуск NFT (Месяц 4)**

**Цель:** Обеспечить функционал работы с NFT и интеграцию с блокчейном.  
**Результат:** Полноценная система выпуска и передачи NFT на основе TON.

1. Интеграция с SDK TON:
    
    - Настройка взаимодействия с API TON для выпуска NFT.
    - Эндпоинты для передачи NFT на криптокошельки пользователей.
2. Логика хранения данных о NFT:
    
    - Таблицы для учета выпущенных и переданных NFT.
    - Связь данных NFT с пользователями.
3. Безопасность транзакций:
    
    - Проверка кошельков.
    - Обработка ошибок транзакций.
4. Тестирование:
    
    - Юнит-тесты взаимодействия с TON SDK.
    - Интеграционные тесты покупок и перевода NFT.

---

#### **Этап 5: Завершение функционала и оптимизация (Месяц 5)**

**Цель:** Завершить оставшийся функционал, оптимизировать производительность системы и подготовить её к масштабированию.  
**Результат:** Полностью готовый к использованию продукт с высокой производительностью.

1. Оптимизация:
    
    - Ускорение работы запросов к базе данных.
    - Улучшение работы API.
2. Финализация:
    
    - Реализация резервного хранения данных NFT (репликация).
    - Подключение аналитики для администраторов.
3. Масштабирование:
    
    - Подготовка системы к горизонтальному масштабированию (Kubernetes).
    - Тестирование нагрузки.

---

#### **Этап 6: Тестирование, документирование и запуск (Месяц 6)**

**Цель:** Провести полное тестирование, составить документацию и запустить систему.  
**Результат:** Продукт полностью готов к запуску и использованию.

1. Тестирование:
    
    - Полное E2E-тестирование.
    - Тестирование отказоустойчивости.
2. Документирование:
    
    - API-документация (Swagger).
    - Руководство для администраторов и разработчиков.
3. Финальный деплой:
    
    - Перенос системы в production.
    - Настройка мониторинга и резервного копирования.
4. Запуск и поддержка:
    
    - Обучение команды поддержки.
    - Мониторинг системы в первые недели.
